<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Cooee's Web SDK</title>
    <style>
        #bg-website {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
    </style>
</head>
<body>
    <iframe src="https://example.com" id="bg-website"></iframe>
    <!--<script src="https://cdn.jsdelivr.net/npm/@letscooee/web-sdk/dist/sdk.min.js" async></script>-->
    <script src="/live-dist/sdk.min.js" async></script>
    <script>
        window.CooeeSDK = window.CooeeSDK || {events: [], profile: [], account: [], screen: []};
        CooeeSDK.account.push({debug: false});
        CooeeSDK.account.push({appVersion: "1.2.3+12030"});
        CooeeSDK.account.push({appID: "5f9136107d618d7d123cc118"});
        CooeeSDK.profile.push({
            name: "John Doe",
            email: "john@example.com",
            customerID: "xyz1234",
            loggedIn: true,
            foo: "bar",
            subscriptions: {
                valid: true,
                pack: 1234
            }
        });
        CooeeSDK.events.push(["Add To Cart", {foo: 2}])

        setTimeout(()=>{
            CooeeSDK.screen.push(`Screen ${new Date()}`);
            CooeeSDK.events.push(["View Cart", {foo: 2}]);
        }, 10000);

        document.addEventListener('onCooeeCTA', function (event) {
            const payload = event.detail;
            console.log('Payload', payload);

            if (!payload) return;

            if (payload.actionType === "VIEW_ITEM") {
                // Take the user to the given item's page. Item id will be in "payload.id"
            } else if (payload.actionType === "GO_TO_SCREEN") {
                // Take user to the given screen name
            }
        }, false);

    </script>
</body>
</html>
